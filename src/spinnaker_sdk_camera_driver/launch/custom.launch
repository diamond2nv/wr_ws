<launch>
    <!-- configure console output verbosity mode:debug_console.conf or std_console.conf -->
    <env name="ROSCONSOLE_CONFIG_FILE" value="$(find spinnaker_sdk_camera_driver)/cfg/std_console.conf"/>

    <arg name="exposure_time" default="0" />
    <arg name="target_grey_value" default="0" />
    <arg name="frames" default="3400" /view 0=ON"/>
    <arg name="live" default="false" />
    <arg name="live_grid" default="false" />
    <arg name="output" default="screen" />
    <arg name="save" default="false" />
    <arg name="save_path" default="~" />
    <arg name="save_type" default="bmp" />
    <arg name="time" default="false" /FPS on output"/>
    <arg name="to_ros" default="true" />
    <arg name="utstamps" default="false" />
    <arg name="max_rate_save" default="false" />
    <arg name="config_file" default="$(find spinnaker_sdk_camera_driver)/params/custom_params.yaml" />

    <arg name="nodelet_manager_name" default="vision_nodelet_manager" />
    <arg name="start_nodelet_manager" default="true" />
    <node pkg="nodelet" type="nodelet" name="$(arg nodelet_manager_name)" args="manager" output="screen" if="$(arg start_nodelet_manager)" />

    <!-- load the acquisition nodelet -->
    <node pkg="nodelet" type="nodelet" name="acquisition_node" args="load acquisition/capture_nodelet $(arg nodelet_manager_name)" >
        <rosparam command="load" file="$(arg config_file)" />

        <param name="exposure_time" value="$(arg exposure_time)" />
        <param name="target_grey_value" value="$(arg target_grey_value)" />
        <param name="live" value="$(arg live)" />
        <param name="live_grid" value="$(arg live_grid)" />
        <param name="save" value="$(arg save)" />
        <param name="save_type" value="$(arg save_type)" />
        <param name="save_path" value="$(arg save_path)" />
        <param name="time" value="$(arg time)" />
        <param name="utstamps" value="$(arg utstamps)" />
        <param name="to_ros" value="$(arg to_ros)"/>
        <param name="max_rate_save" value="$(arg max_rate_save)"/>
    </node>
</launch>
